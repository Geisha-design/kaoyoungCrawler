# 服务器配置
server:
  port: 8080  # 更改端口以避免冲突
  servlet:
    context-path: /smarteCrawler


spring:
  datasource:
    type: com.alibaba.druid.pool.DruidDataSource
    druid:
      url: jdbc:mysql://localhost:3306/crawler_db?useUnicode=true&characterEncoding=utf8&serverTimezone=Asia/Shanghai
      username: root # 本地MySQL账号
      password: qyzh12260315 # 本地MySQL密码
      driver-class-name: com.mysql.cj.jdbc.Driver
      initial-size: 5
      min-idle: 5
      max-active: 20
  redis:
    host: localhost
    port: 6379
    timeout: 2000ms
    lettuce:
      pool:
        max-active: 8
        max-idle: 8
        min-idle: 0
  web:
    cors:
      allowed-origins: "*" # 允许跨域（生产环境指定具体域名）
      allowed-methods: "*"
      allowed-headers: "*"

mybatis-plus:
  mapper-locations: classpath:mapper/*.xml
  type-aliases-package: smartebao.guide.entity
  configuration:
    map-underscore-to-camel-case: true
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
    # 开启SQL关键字下划线转义
    call-setters-on-nulls: true
  global-config:
    db-config:
      # 字段策略，忽略判断
      field-strategy: not_null
      # 逻辑删除字段名
      logic-delete-field: deleted
      # 逻辑删除值
      logic-delete-value: 1
      # 逻辑未删除值
      logic-not-delete-value: 0

jwt:
  secret: your-secret-key-keep-it-safe-2026 # 生产环境用环境变量
  expire: 7200000 # JWT过期时间（2毫秒，毫秒）

knife4j:
  enable: true
  production: false
  basic:
    enable: true
    username: admin
    password: admin
  # 配置需要保护的路径
  auth:
    enable: false

springdoc:
  swagger-ui:
    path: /swagger-ui.html
    tags-sorter: alpha
    operations-sorter: alpha
  api-docs:
    path: /v3/api-docs
  group-configs:
    - group: 'default'
      paths-to-match: ['/api/**']
      packages-to-scan: smartebao.guide.controller
  # 不需要认证访问的路径
  paths-to-match:
    - /api/**

logging:
  level:
    smartebao.guide: debug